# 同声传译 Demo

## 使用说明

直接双击 `index.html` 文件在浏览器中打开即可使用。

### 功能说明

#### 1. 登录页面
- **左侧**：同声传译概念展示
  - 科技感渐变背景 + 网格动画
  - 三大核心功能：语音识别🎤、实时翻译🌐、语音合成🔊
- **右侧**：账号登录入口
- 点击"登录"按钮进入主界面

#### 2. 主界面

##### 导航栏
- **左侧**：Logo + "同声传译" 标题 + "国内版" 标签
- **右上角**：用户头像下拉菜单
  - ⚙️ 设置：打开设置弹窗（切换语言）
  - 🚪 退出登录：返回登录页面

##### 初始状态（未启动服务）
- **左侧主区域**（4/5宽度）：
  - 显示摄像头图标 📹
  - 提示文字："请在右侧配置服务参数，然后点击'启动'按钮开始会议"
  - 房间信息隐藏
  - 视频控制栏隐藏

- **右侧边栏**（1/5宽度）：
  - 仅显示"设置"Tab
  - 配置项可编辑

##### 启动服务后
- **左侧主区域**（4/5宽度）：
  - 显示字幕内容
  - **房间信息**：右上角感叹号图标ℹ️
    - 鼠标悬停显示详细信息：
      - 房间号（可点击复制）
      - 频道ID
      - 剩余时长（10分钟倒计时）
  - **底部控制栏**：
    - 麦克风按钮：开启/关闭（简洁SVG图标）
    - 摄像头按钮：开启/关闭（简洁SVG图标）
    - 挂断按钮：退出房间（红色）

- **右侧边栏**（1/5宽度）：
  - 显示两个Tab：参会人员 + 设置
  - 配置项置灰不可编辑

##### 右侧Tab详情

**参会人员Tab**：
- 单列显示参会人员
- 包含真实人物头像（来自不同国家）
  - Emma（美国）
  - Kenji（日本）
  - Sofia（西班牙）
  - Mohammed（沙特阿拉伯）
- 使用 DiceBear API 生成真实人物头像
- 摄像头开启时显示视频画面

**设置Tab**：
- **转录翻译设置**：
  - 源语言选择（9种语言）
  - 目标语言选择（9种语言）
  
- **同传 TTS 设置**：
  - TTS 开关（默认关闭，不缓存）
  - 音色选择：4种（男声1、男声2、女声1、女声2）
    - 关闭TTS时置灰不可点击
    - 开启TTS时可正常选择
  - 音量调节（0-100%）+ 恢复默认按钮
  - 语速调节（0.5x-2.0x）+ 恢复默认按钮
  
- **启动/退出按钮**：
  - **启动状态**（默认）：
    - 蓝紫渐变背景
    - 文字："启动"
    - 点击后启动服务，配置项置灰
  - **退出状态**（服务启动后）：
    - 红色背景
    - 文字："退出"
    - 点击后弹出确认框
    - 确认后退出会议，返回空白状态，配置项恢复可编辑

#### 3. 字幕功能

**字幕模式**：
- 滚动模式：在左侧主区域滚动显示
- 悬浮模式：打开独立悬浮窗
- 扫码模式：显示二维码弹窗

**字幕显示**：
- 实时滚动显示
- 显示用户头像、姓名、原文、译文、时间戳
- 不同用户使用不同颜色区分
- 自动滚动到最新字幕

#### 4. 悬浮字幕窗口
- **位置**：视频区域中央下方（类似电视字幕）
- **样式**：半透明黑色背景，圆角设计
- **内容**：仅显示最新一条字幕，实时更新
  - 用户头像（圆形，40px）
  - 用户姓名
  - 原文（单行显示，超出省略）
  - 译文（单行显示，超出省略，绿色）
- **宽度**：自动适应内容，最大为视频区域的 80%，最小 400px
- **功能按钮**：
  - 📌 置顶：固定悬浮窗在屏幕最上层（再次点击取消）
  - ✕ 关闭：关闭悬浮字幕，返回滚动模式
- **交互逻辑**：
  - 开启悬浮字幕后，滚动字幕区域停止更新
  - 显示提示："悬浮字幕已开启，关闭悬浮字幕后继续显示滚动字幕"
  - 关闭悬浮字幕后，自动恢复滚动字幕显示

#### 5. 扫码字幕
- 显示二维码弹窗
- 模拟二维码图案
- 提示文字：使用手机扫描二维码即可实时查看字幕
- 点击"关闭"按钮或背景遮罩关闭
- **独立功能**：与滚动/悬浮字幕不冲突，可同时使用

## 使用流程

1. **登录**：双击打开 `index.html`，点击"登录"按钮
2. **配置服务**：
   - 在右侧"设置"Tab中设置：
     - 源语言和目标语言
     - 是否开启 TTS
     - 选择音色、音量、语速（可恢复默认值）
3. **启动服务**：点击"启动"按钮
   - 配置项自动置灰不可编辑
   - 侧边栏显示"参会人员"和"设置"两个Tab
4. **会议进行中**：
   - 左侧主区域显示字幕
   - 右侧可查看参会人员列表
   - 可切换字幕模式（滚动/悬浮/扫码）
   - 可控制麦克风、摄像头
5. **退出会议**：
   - 点击"退出"按钮
   - 确认后返回空白状态
   - 配置项恢复可编辑

## 技术特点

- 纯HTML单文件实现，无需服务器
- 响应式设计，支持PC和平板
- 多语言支持（中英文）
- 真实人物头像（API动态生成）
- 模拟字幕自动生成（3秒一条）
- 10分钟会议时长限制
- 悬浮字幕类似电视字幕效果
- 支持字幕模式独立切换（滚动/悬浮可切换，扫码独立）
- SVG 图标，简洁现代
- 配置项状态管理（服务启动后置灰）

## 浏览器要求

建议使用现代浏览器：
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## 注意事项

- 头像使用 DiceBear API，需要网络连接
- 离线状态下头像可能无法显示
- 建议在有网络的环境下使用以获得最佳体验
- 配置项在服务启动后不可修改，需退出服务后才能编辑
- TTS 开关状态不会缓存，每次进入都是关闭状态
- 音量和语速支持一键恢复默认值

